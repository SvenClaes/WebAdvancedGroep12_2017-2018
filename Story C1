<?php
/**
 * Created by PhpStorm.
 * User: Thomas Philipsen
 * Date: 15/04/2018
 * Time: 21:19
 */

class SetAnswer
{
    public function ShowAllLocations()
    {
        $servername = "vagrant";
        $username = "root";
        $password = "root";
        $dbname = "groepswerk";
        try {
            $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
            // set the PDO error mode to exception
            $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
            // statement to get all the locations
            $statement=$conn->query('SELECT * from locations');
            $statement->setFetchMode(PDO::FETCH_ASSOC);
            //print all locations
            while($row = $statement->fetch()) {
                print_r($row);
            }
        }
        catch(PDOException $e)
        {
            echo 'Exception:' . $e->getMessage();
        }
        $conn = null;
    }

    public function SetAnswerOnLocation($location, $answer)
    {
        $servername = "vagrant";
        $username = "root";
        $password = "root";
        $dbname = "groepswerk";
        try {
            $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
            // set the PDO error mode to exception
            $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
            // statement to insert the answer on the specific location
            $statement=$conn->exec('INSERT INTO Answers(answer)
            VALUES $answer');
            //print all modified rows
            print ("$statement row(s) modified");

            // uniek token genereren?
        }
        catch(PDOException $e)
        {
            echo 'Exception:' . $e->getMessage();
        }
        $conn = null;
    }


}
